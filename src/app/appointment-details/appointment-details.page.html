<ion-content [fullscreen]="true">

  <div class="container" style="margin-top: 128px;">

    <div class="row mb-4">

      <!-- TOP 3 CARDS -->
      <div class="col-12 col-md-4 mb-3">
        <div class="outer-card card text-dark p-3 h-100">

          <div *ngIf="isLoading" class="placeholder-wave">
            <div class="placeholder col-6 mb-2" style="height:12px;"></div>
            <div class="placeholder col-8" style="height:30px; border-radius:10px;"></div>
          </div>

          <div *ngIf="!isLoading">
            <div class="d-flex justify-content-between align-items-center">
              <div class="metric-card text-dark p-0 m-0" style="font-size: 1.5vh">Thema</div>
            </div>
            <p class="text-dark p-0 m-0" style="font-size: 2.3vh;">{{ appointment.topic }}</p>
          </div>

        </div>
      </div>


      <div class="col-12 col-md-4 mb-3">
        <div class="outer-card card text-dark p-3 h-100">

          <div *ngIf="isLoading" class="placeholder-wave">
            <div class="placeholder col-6 mb-2" style="height:12px;"></div>
            <div class="placeholder col-8" style="height:30px; border-radius:10px;"></div>
          </div>

          <div *ngIf="!isLoading">
            <div class="d-flex justify-content-between align-items-center">
              <div class="metric-card text-dark p-0 m-0" style="font-size: 1.5vh">Projekt</div>
            </div>
            <p class="text-dark p-0 m-0" style="font-size: 2.3vh;">{{ project.name }}</p>
          </div>

        </div>
      </div>


      <div class="col-12 col-md-4 mb-3">
        <div class="outer-card card text-dark p-3 h-100">

          <div *ngIf="isLoading" class="placeholder-wave">
            <div class="placeholder col-6 mb-2" style="height:12px;"></div>
            <div class="placeholder col-8" style="height:30px; border-radius:10px;"></div>
          </div>

          <div *ngIf="!isLoading">
            <div class="d-flex justify-content-between align-items-center">
              <div class="metric-card text-dark p-0 m-0" style="font-size: 1.5vh">Plattform</div>
            </div>
            <p class="text-dark p-0 m-0" style="font-size: 2.3vh;">{{ appointment.plattform }}</p>
          </div>

        </div>
      </div>

    </div>


    <div class="row g-4">

      <div class="col-md-8">
        <div class="metric-card outer-card card p-3">

          <h5>Termin</h5>

          <!-- skeleton -->
          <div *ngIf="isLoading" class="placeholder-wave">
            <div class="placeholder col-10 mb-3" style="height:38px;"></div>
            <div class="placeholder col-6" style="height:40px; border-radius:8px;"></div>
          </div>

          <!-- real -->
          <div *ngIf="!isLoading">
            <p style="font-size: 32px;">{{ appointment.date }} / {{ appointment.time }}</p>

            <button (click)="archiveAppointment()" *ngIf="!isPast()" class="btn btn-danger mt-3">
              Termin absagen
            </button>
            <button (click)="archiveAppointment()" *ngIf="isPast()" class="btn btn-secondary mt-3">
              Termin archivieren
            </button>
          </div>

        </div>
      </div>

      <div class="col-md-4">
        <div class="card p-3 card-outline">

          <!-- skeleton -->
          <div *ngIf="isLoading" class="placeholder-wave">
            <div class="placeholder col-12" style="height:75px; border-radius:10px;"></div>
          </div>

          <!-- real -->
          <div *ngIf="!isLoading">
            <p style="font-size: 24px;" *ngIf="!isPast()">Der Termin findet planmäßig über {{ appointment.plattform }} statt.</p>
            <p style="font-size: 24px;" *ngIf="isPast()">Termin liegt bereits in der Vergangenheit.</p>
          </div>

        </div>
      </div>

    </div>


    <div class="">
      <div class="">
        <div class="metric-card outer-card card p-3 mt-4">

          <h5>Infos und Skripte</h5>

          <!-- skeleton -->
          <div *ngIf="isLoading">
            <div class="placeholder-wave my-2" *ngFor="let i of [1,2,3]">
              <div class="placeholder col-12 mb-2" style="height:35px; border-radius:8px;"></div>
            </div>
          </div>

          <!-- real -->
          <div *ngIf="!isLoading">
            <p *ngIf="appointmentScripts.length <= 0">Keine Skripte hinzugefügt</p>
            <div *ngFor="let item of appointmentScripts">
              <app-appointment-script [appointmentScript]="item"></app-appointment-script>
            </div>
            <button (click)="openCreateAppointmentScript()" class="btn btn-success mt-3">Skript hinzufügen</button>
          </div>

        </div>
      </div>
    </div>

  </div>

</ion-content>

<app-footer></app-footer>
